{
  "name": "calendar_app_environment",
  "description": "Environment specification for a web-based calendar application, including language runtime, tooling, and environment profiles for development, testing, and production.",
  "language": {
    "name": "python",
    "version": ">=3.10,<3.14",
    "runtime": "CPython",
    "encoding": "utf-8"
  },
  "platform": {
    "os": [
      "linux",
      "macos"
    ],
    "recommended_os": "linux",
    "min_cpu_arch": "x86_64",
    "supported_arch": [
      "x86_64",
      "arm64"
    ],
    "shell": [
      "bash",
      "zsh"
    ]
  },
  "package_manager": {
    "primary": {
      "name": "uv",
      "alternatives": [
        "pip",
        "poetry"
      ],
      "lockfile_recommended": true
    },
    "python_index": {
      "url": "https://pypi.org/simple",
      "verify_ssl": true
    }
  },
  "application": {
    "type": "web_api_plus_frontend",
    "description": "Calendar app with user accounts, shared calendars, events, reminders, and notifications. Backend exposes REST/JSON APIs; frontend may be SPA or server-rendered.",
    "entrypoint_suggestion": "app.main:app",
    "http_port_default": 8000
  },
  "dependencies": {
    "runtime": [
      {
        "name": "fastapi",
        "version": "^0.115",
        "required": false,
        "reason": "Recommended framework for building RESTful APIs for the calendar backend."
      },
      {
        "name": "uvicorn",
        "version": "^0.32",
        "required": false,
        "reason": "ASGI server for running the FastAPI application in development and production."
      },
      {
        "name": "sqlalchemy",
        "version": "^2.0",
        "required": false,
        "reason": "ORM and SQL toolkit for managing calendar-related data entities in a relational database."
      },
      {
        "name": "alembic",
        "version": "^1.13",
        "required": false,
        "reason": "Database migration tool for evolving the calendar schema safely."
      },
      {
        "name": "pydantic",
        "version": "^2.9",
        "required": false,
        "reason": "Data validation and settings management for request/response models and configuration."
      },
      {
        "name": "python-dateutil",
        "version": "^2.9",
        "required": false,
        "reason": "Robust date and time parsing, especially for recurring events and time zone handling."
      },
      {
        "name": "pytz",
        "version": "^2024.1",
        "required": false,
        "reason": "Time zone definitions for accurate calendar event scheduling across regions."
      },
      {
        "name": "redis",
        "version": "^5.0",
        "required": false,
        "reason": "Optional cache and background job broker for reminders and notifications."
      }
    ],
    "dev": [
      {
        "name": "pytest",
        "version": "^8.0",
        "required": true,
        "reason": "Testing framework for unit, integration, and API tests."
      },
      {
        "name": "pytest-asyncio",
        "version": "^0.24",
        "required": false,
        "reason": "Support for testing async API endpoints and background tasks."
      },
      {
        "name": "httpx",
        "version": "^0.27",
        "required": false,
        "reason": "HTTP client for integration tests of the calendar API."
      },
      {
        "name": "black",
        "version": "^24.0",
        "required": false,
        "reason": "Code formatter to enforce a consistent style."
      },
      {
        "name": "ruff",
        "version": "^0.7",
        "required": false,
        "reason": "Fast linter and import sorter for Python code quality."
      },
      {
        "name": "mypy",
        "version": "^1.13",
        "required": false,
        "reason": "Static type checker for catching type-related bugs early."
      }
    ],
    "optional": [
      {
        "name": "celery",
        "version": "^5.4",
        "required": false,
        "reason": "Background task processing for sending reminders and notifications."
      },
      {
        "name": "jinja2",
        "version": "^3.1",
        "required": false,
        "reason": "Templating for email notifications or server-rendered views."
      }
    ]
  },
  "database": {
    "default_engine": "postgresql",
    "supported_engines": [
      "postgresql",
      "sqlite"
    ],
    "recommended_versions": {
      "postgresql": ">=13",
      "sqlite": ">=3.35"
    },
    "migrations_tool": "alembic",
    "connection_env_vars": [
      "DATABASE_URL"
    ]
  },
  "environments": {
    "development": {
      "description": "Local development environment with hot reload, debug logging, and relaxed security settings.",
      "debug": true,
      "logging_level": "debug",
      "allowed_hosts": [
        "localhost",
        "127.0.0.1"
      ],
      "use_in_memory_queues": true,
      "database_engine": "sqlite",
      "env_file": ".env.development"
    },
    "test": {
      "description": "Automated test environment with isolated database and deterministic configuration.",
      "debug": false,
      "logging_level": "warning",
      "database_engine": "sqlite",
      "run_migrations": true,
      "env_file": ".env.test"
    },
    "production": {
      "description": "Production environment for serving end users, with full security and observability.",
      "debug": false,
      "logging_level": "info",
      "database_engine": "postgresql",
      "run_migrations": true,
      "env_file": ".env.production",
      "replicas_recommended_min": 2,
      "use_reverse_proxy": true
    }
  },
  "tools": {
    "formatting": {
      "tool": "black",
      "line_length": 88
    },
    "linting": {
      "tool": "ruff",
      "config_file_suggestion": "ruff.toml"
    },
    "typing": {
      "tool": "mypy",
      "strict_mode_recommended": true
    },
    "testing": {
      "tool": "pytest",
      "default_command": "pytest",
      "coverage_tool": "coverage",
      "coverage_minimum": 80
    },
    "task_runner": {
      "tool": "none",
      "notes": "A task runner such as make, tox, or nox may be added later for automation."
    }
  },
  "ci": {
    "enabled": false,
    "recommended": true,
    "suggested_providers": [
      "github_actions",
      "gitlab_ci"
    ],
    "basic_checks": [
      "install_dependencies",
      "run_linters",
      "run_tests",
      "build_artifacts"
    ]
  },
  "containerization": {
    "use_docker": true,
    "base_image_suggestion": "python:3.12-slim",
    "exposed_ports": [
      8000
    ],
    "env_vars_to_pass_through": [
      "DATABASE_URL",
      "REDIS_URL",
      "CALENDAR_SECRET_KEY"
    ]
  },
  "security": {
    "secret_management": "environment_variables_or_secret_manager",
    "required_env_vars": [
      "CALENDAR_SECRET_KEY"
    ],
    "https_termination": "handled_by_reverse_proxy",
    "recommended_headers": [
      "Strict-Transport-Security",
      "Content-Security-Policy",
      "X-Content-Type-Options",
      "X-Frame-Options"
    ]
  },
  "logging": {
    "format": "structured_json",
    "include_correlation_id": true,
    "log_request_ids": true
  },
  "monitoring": {
    "metrics": {
      "enabled": true,
      "suggested_tooling": [
        "prometheus",
        "opentelemetry"
      ]
    },
    "tracing": {
      "enabled": false,
      "suggested_tooling": [
        "opentelemetry"
      ]
    }
  },
  "notes": [
    "This environment spec is framework-agnostic but biased toward a FastAPI-style Python stack.",
    "Dependencies are recommendations and may be adjusted once the concrete architecture is finalized.",
    "All version ranges are indicative and should be refined when the initial implementation is created."
  ]
}